{"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "rect", "encoding": {"color": {"field": "Count_of_Records", "legend": {"direction": "vertical"}, "scale": {"scheme": "viridis"}, "type": "quantitative"}, "x": {"field": "Risk", "scale": {"paddingInner": 0}, "type": "ordinal"}, "y": {"field": "Results", "scale": {"paddingInner": 0}, "type": "ordinal"}}, "height": 400, "transform": [{"aggregate": [{"op": "count", "as": "Count_of_Records"}], "groupby": ["Risk", "Results"]}], "width": 600}, {"mark": {"type": "text", "baseline": "middle"}, "encoding": {"color": {"condition": {"value": "black", "test": "(datum.num_facility_category > 500)"}, "value": "white"}, "text": {"field": "Count_of_Records", "type": "quantitative"}, "x": {"field": "Risk", "scale": {"paddingInner": 0}, "type": "ordinal"}, "y": {"field": "Results", "scale": {"paddingInner": 0}, "type": "ordinal"}}, "transform": [{"aggregate": [{"op": "count", "as": "Count_of_Records"}], "groupby": ["Risk", "Results"]}]}], "data": {"url": "https://raw.githubusercontent.com/Vishwa79/vishwa79.github.io/main/python_notebooks/clean_food_inspection.csv"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json"}